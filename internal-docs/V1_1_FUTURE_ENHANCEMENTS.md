# Kumiki 今後の拡張予定タスクリスト

このドキュメントは、MVP完成後の機能拡張に関するタスクリストです。

## 1. アニメーション機能 (高優先度)

### 1.1 基本アニメーション実装
- [ ] BaseSceneクラスにアニメーション適用メソッドを追加
- [ ] AnimationService の実装
  - [ ] アニメーション設定の解析
  - [ ] FFmpegフィルター生成
  - [ ] イージング関数の実装

### 1.2 各アニメーションタイプの実装
- [ ] **fade-in** - フェードイン効果
  - [ ] 透明度の段階的変化
  - [ ] 開始時間と持続時間の設定
- [ ] **fade-out** - フェードアウト効果
  - [ ] 透明度の段階的変化
  - [ ] 終了タイミングの計算
- [ ] **zoom-in** - ズームイン効果
  - [ ] スケールの段階的変化
  - [ ] 中心点の設定
- [ ] **zoom-out** - ズームアウト効果
  - [ ] スケールの段階的変化
  - [ ] 中心点の設定
- [ ] **slide** - スライド効果
  - [ ] 方向指定（上下左右）
  - [ ] 移動距離の計算

### 1.3 アニメーション統合
- [ ] 各SceneRendererへのアニメーション適用
- [ ] 複数アニメーションの組み合わせ対応
- [ ] プレビューでのアニメーション表示

## 2. トランジション機能 (高優先度)

### 2.1 トランジション基盤
- [ ] TransitionService の実装
- [ ] シーン間の中間フレーム生成
- [ ] トランジション用の一時ファイル管理

### 2.2 各トランジションタイプの実装
- [ ] **fade** - フェードトランジション
  - [ ] クロスフェード処理
  - [ ] 持続時間の設定
- [ ] **wipe** - ワイプトランジション
  - [ ] 方向指定（上下左右）
  - [ ] マスク生成
- [ ] **dissolve** - ディゾルブトランジション
  - [ ] ピクセル単位の混合
  - [ ] ランダム性の実装

### 2.3 トランジション統合
- [ ] Rendererへのトランジション処理組み込み
- [ ] シーン結合時の自動適用
- [ ] カスタムトランジションのサポート

## 3. 音声処理の拡張 (中優先度)

### 3.1 高度な音声機能
- [ ] **複数音声トラック**のサポート
  - [ ] 音声ミキシング
  - [ ] トラック別音量調整
- [ ] **フェードイン/アウト**
  - [ ] BGMの自動フェード
  - [ ] シーン切り替え時の音声処理
- [ ] **音声エフェクト**
  - [ ] エコー、リバーブ等の基本エフェクト
  - [ ] 音声フィルターの適用

### 3.2 音声同期
- [ ] シーンタイミングとの同期
- [ ] 音声遅延の調整

## 4. 新しいシーンタイプ (中優先度)

### 4.1 複合シーンタイプ
- [ ] **composite** - 複数要素の組み合わせシーン
  - [ ] テキスト＋画像の重ね合わせ
  - [ ] レイヤー管理
  - [ ] Z-index対応

## 5. CLI改善 (低優先度)

### 5.1 使いやすさの向上
- [ ] インタラクティブモード
- [ ] プロジェクトテンプレート
- [ ] 設定ウィザード

### 5.2 追加コマンド
- [ ] `kumiki init` - プロジェクト初期化
- [ ] `kumiki template` - テンプレート管理
- [ ] `kumiki config` - 設定管理

## 6. ドキュメント (継続的)

### 6.1 ユーザードキュメント
- [ ] APIリファレンス（TypeDoc）
- [ ] ユーザーガイド（日本語/英語）
- [ ] サンプルプロジェクト集
- [ ] ビデオチュートリアル

### 6.2 サンプルとテンプレート
- [ ] 基本的なテキスト動画サンプル
- [ ] 画像スライドショーサンプル
- [ ] 複雑なアニメーションサンプル
- [ ] 業界別テンプレート（プレゼン、広告、教育等）

## 実装優先順位

1. **フェーズ1** (1-2ヶ月)
   - アニメーション機能の基本実装
   - fade-in/out の実装

2. **フェーズ2** (2-3ヶ月)
   - 残りのアニメーションタイプ
   - トランジション機能の実装

3. **フェーズ3** (1-2ヶ月)
   - 音声処理の拡張
   - 複合シーンタイプ

4. **フェーズ4** (継続的)
   - CLI改善
   - ドキュメント整備
   - サンプル作成

## 技術的考慮事項

### 依存関係
- アニメーション: FFmpegの高度なフィルター機能
- トランジション: 画像処理ライブラリ（Sharp等）の検討
- 音声処理: FFmpegの音声フィルター活用

### 互換性
- 既存APIとの後方互換性維持
- 段階的な機能追加によるスムーズな移行
- TypeSpecスキーマの適切な拡張

### 実装方針
- 各機能は独立したモジュールとして実装
- 既存コードへの影響を最小限に抑制
- 設定はオプショナルとし、デフォルト動作を保証